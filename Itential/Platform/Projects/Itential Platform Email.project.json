{
  "_id": "66cf628b21161b4df2717479",
  "name": "Itential Platform Email",
  "description": "Itential Platform Email Project has assets to send email",
  "components": [
    {
      "iid": 0,
      "reference": "4dc295de-7211-48fd-9879-3c5f4197d716",
      "type": "workflow",
      "folder": "/Send Email - SMTP",
      "document": {
        "name": "Send Email",
        "tasks": {
          "8954": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Parse Receiver Emails",
            "description": "Use JST to split 'to' email addresses by semicolon into array.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "64b16d632fd532015bdf29f9",
                "variableMap": {
                  "receiverList": "$var.job.to"
                },
                "options": {
                  "extractOutput": true,
                  "validateIncoming": true,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "receiverList": null
              },
              "decorators": []
            },
            "groups": [],
            "task_name": "Parse receiver emails",
            "retrySettings": null,
            "nodeLocation": {
              "x": -2004,
              "y": 1188
            }
          },
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "nodeLocation": {
              "x": -2004,
              "y": 1080
            }
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "nodeLocation": {
              "x": -2004,
              "y": 1572
            }
          },
          "4bd0": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Create Error Response",
            "description": "Create error response from email task.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "5ff35e589bc9347a490356a7",
                "variableMap": {
                  "status": "error",
                  "taskData": "$var.be47.error"
                },
                "options": {
                  "extractOutput": true,
                  "validateIncoming": true,
                  "revertToDefaultValue": false
                }
              },
              "outgoing": {
                "emailResult": "$var.job.emailResult"
              },
              "decorators": []
            },
            "groups": [],
            "retrySettings": null,
            "nodeLocation": {
              "x": -2316,
              "y": 1308
            }
          },
          "465b": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Create Success Response",
            "description": "Create success response from email task.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "5ff35e589bc9347a490356a7",
                "variableMap": {
                  "status": "success",
                  "taskData": "$var.be47.response"
                },
                "options": {
                  "extractOutput": true,
                  "validateIncoming": true,
                  "revertToDefaultValue": false
                }
              },
              "outgoing": {
                "emailResult": "$var.job.emailResult"
              },
              "decorators": []
            },
            "groups": [],
            "retrySettings": null,
            "nodeLocation": {
              "x": -2004,
              "y": 1428
            }
          },
          "be47": {
            "name": "mailWithOptions",
            "canvasName": "mailWithOptions",
            "summary": "Send Email With Options",
            "description": "Email a message with cc, bcc, and attachment options.",
            "location": "Adapter",
            "locationType": "EmailOpensource",
            "app": "EmailOpensource",
            "type": "automatic",
            "displayName": "EmailOpensource",
            "variables": {
              "incoming": {
                "from": "$var.job.from",
                "to": "$var.8954.receiverList",
                "subject": "$var.job.subject",
                "body": "$var.job.body",
                "displayName": "",
                "cc": "",
                "bcc": "",
                "attachments": "",
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "response": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "scheduled": false,
            "nodeLocation": {
              "x": -2004,
              "y": 1308
            }
          }
        },
        "transitions": {
          "4971": {},
          "8954": {
            "be47": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_start": {
            "8954": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_end": {},
          "4bd0": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            }
          },
          "465b": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            }
          },
          "be47": {
            "465b": {
              "type": "standard",
              "state": "success"
            },
            "4bd0": {
              "type": "standard",
              "state": "error"
            }
          },
          "d30a": {}
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "to": {
              "type": "string"
            },
            "from": {
              "type": ["array", "boolean", "null", "number", "object", "string"]
            },
            "subject": {
              "type": ["array", "boolean", "null", "number", "object", "string"]
            },
            "body": {
              "type": ["array", "boolean", "null", "number", "object", "string"]
            },
            "adapterId": {
              "type": ["array", "boolean", "null", "number", "object", "string"]
            }
          },
          "required": ["to", "from", "subject", "body", "adapterId"]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "to": {
              "type": "string"
            },
            "from": {
              "type": ["array", "boolean", "null", "number", "object", "string"]
            },
            "subject": {
              "type": ["array", "boolean", "null", "number", "object", "string"]
            },
            "body": {
              "type": ["array", "boolean", "null", "number", "object", "string"]
            },
            "adapterId": {
              "type": ["array", "boolean", "null", "number", "object", "string"]
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            }
          }
        },
        "font_size": 12,
        "createdVersion": "5.10.4-2020.1.22.0",
        "last_updated": "2025-01-24T15:29:26.209Z",
        "lastUpdatedVersion": "5.55.2-2023.2.13",
        "type": "automation",
        "preAutomationTime": 0,
        "sla": 0,
        "last_updated_by": {
          "provenance": "Okta",
          "username": "admin@itential",
          "firstname": "admin@itential",
          "inactive": false,
          "sso": true,
          "nameID": "admin@itential"
        },
        "created": "1970-01-01T00:00:00.000Z",
        "canvasVersion": 3,
        "created_by": {
          "provenance": "Okta",
          "username": "admin@itential",
          "firstname": "admin@itential",
          "inactive": false,
          "sso": true,
          "nameID": "admin@itential"
        },
        "tags": [],
        "groups": [],
        "migrationVersion": 3
      }
    },
    {
      "iid": 1,
      "reference": "64b16d632fd532015bdf29f9",
      "type": "transformation",
      "folder": "/Send Email - SMTP",
      "document": {
        "_id": "64b16d632fd532015bdf29f9",
        "name": "Parse Receiver Emails",
        "description": "",
        "incoming": [
          {
            "$id": "receiverList",
            "type": "string"
          }
        ],
        "outgoing": [
          {
            "$id": "receiverList",
            "type": "array"
          }
        ],
        "steps": [
          {
            "id": 1,
            "type": "declaration",
            "library": "RegExp",
            "method": "new RegExp",
            "args": ["\\s*;\\s*", null],
            "view": {
              "row": 2,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 2,
            "type": "method",
            "library": "String",
            "method": "split",
            "args": [null, null, null],
            "view": {
              "row": 1,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 4,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 2,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "receiverList",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 5,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "receiverList",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 2,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 1,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 2,
              "ptr": "/args/1/value"
            },
            "context": "#"
          }
        ],
        "functions": [],
        "comments": [],
        "view": {
          "col": 2,
          "row": 5
        },
        "created": "2025-01-24T15:28:23.061Z",
        "createdBy": {
          "_id": "66d1e2b552e6dc384b5d6626",
          "provenance": "Okta",
          "username": "admin@itential"
        },
        "lastUpdated": "2025-01-24T15:29:26.210Z",
        "lastUpdatedBy": {
          "_id": "66d1e2b552e6dc384b5d6626",
          "provenance": "Okta",
          "username": "admin@itential"
        },
        "version": "4.3.6-2023.2.5",
        "tags": []
      }
    },
    {
      "iid": 2,
      "reference": "6793b197b320bf2f072b3507",
      "type": "transformation",
      "folder": "/Send Email - SMTP",
      "document": {
        "_id": "6793b197b320bf2f072b3507",
        "name": "Process Email Response",
        "description": "",
        "incoming": [
          {
            "$id": "status",
            "type": "string",
            "examples": ["status"]
          },
          {
            "$id": "taskData",
            "type": ["object", "string"]
          }
        ],
        "outgoing": [
          {
            "$id": "emailResult",
            "type": "object",
            "properties": {
              "status": {
                "type": "string",
                "examples": ["success"]
              },
              "responseData": {
                "type": ["object", "string"]
              }
            },
            "required": []
          }
        ],
        "steps": [
          {
            "id": 2,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "status",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "emailResult",
              "ptr": "/status"
            }
          },
          {
            "id": 3,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "taskData",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "emailResult",
              "ptr": "/responseData"
            }
          }
        ],
        "functions": [],
        "comments": [],
        "view": {
          "col": 1,
          "row": 5
        },
        "created": "2025-01-24T15:28:23.063Z",
        "createdBy": {
          "_id": "66d1e2b552e6dc384b5d6626",
          "provenance": "Okta",
          "username": "admin@itential"
        },
        "lastUpdated": "2025-01-24T15:29:26.209Z",
        "lastUpdatedBy": {
          "_id": "66d1e2b552e6dc384b5d6626",
          "provenance": "Okta",
          "username": "admin@itential"
        },
        "version": "4.3.6-2023.2.5",
        "tags": []
      }
    }
  ],
  "folders": [
    {
      "nodeType": "folder",
      "name": "Send Email - SMTP",
      "children": [
        {
          "iid": 0,
          "nodeType": "component"
        },
        {
          "iid": 1,
          "nodeType": "component"
        },
        {
          "iid": 2,
          "nodeType": "component"
        }
      ]
    }
  ],
  "created": "2024-08-28T17:46:51.176Z",
  "createdBy": {
    "_id": "6786b32af921f091fd105007",
    "provenance": "Local AAA",
    "username": "admin@itential"
  },
  "lastUpdated": "2025-01-24T15:29:26.203Z",
  "lastUpdatedBy": {
    "_id": "66d1e2b552e6dc384b5d6626",
    "provenance": "Okta",
    "username": "admin@itential"
  },
  "iid": 70,
  "thumbnail": "",
  "backgroundColor": "#FFFFFF"
}
